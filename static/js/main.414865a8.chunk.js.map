{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.js","components/Pagination.js","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handelClick","value","getClassLink","Pagination","updatePage","currentPage","handelClickPage","console","log","aria-label","aria-current","href","App","getMovies","fetch","page","then","json","movies","results","movie","id","updateMovies","filter","item","updateMoviesWillWatch","moviesWillWatch","push","prevProps","prevState","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.414865a8.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n  state = {\n    willWatch: false\n  };\n\n  render() {\n    const {\n      data,\n      deleteMovie,\n      addMovieToWillWatch,\n      deleteMovieFromWillWatch\n    } = this.props;\n    // props.data = {};\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n            data.poster_path}`}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{data.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\n            {this.state.willWatch ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: false\n                  });\n                  deleteMovieFromWillWatch(data);\n                }}\n              >\n                Will Watch\n              </button>\n            ) : (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  onClick={() => {\n                    this.setState({\n                      willWatch: true\n                    });\n                    addMovieToWillWatch(data);\n                  }}\n                >\n                  Will Watch\n              </button>\n              )}\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => {\n              deleteMovie(data);\n            }}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","import React from 'react'\r\n\r\nclass MovieTabs extends React.Component {\r\n\r\n    shouldComponentUpdate(nextProps, nextState){\r\n        if(nextProps.sort_by !== this.props.sort_by){\r\n            return true\r\n        }\r\n        else{\r\n            return false\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        const {sort_by, updateSortBy} = this.props\r\n        const handelClick = (value) => {\r\n            return (\r\n                () => {\r\n                    updateSortBy(value)\r\n                })\r\n        }\r\n\r\n        const getClassLink = (value) => {\r\n            return `nav-link ${sort_by === value ? 'active ' : ''} `\r\n        }\r\n\r\n        return (\r\n            <ul className='tabs nav nav-pills'>\r\n                <li className='nav-item'>\r\n                    <div className={getClassLink('popularity.desc')}\r\n                         onClick={handelClick('popularity.desc')}>\r\n                        Popular\r\n                    </div>\r\n                </li>\r\n                <li className='nav-item'>\r\n                    <div className={getClassLink('revenue.desc')}\r\n                         onClick={handelClick('revenue.desc')}>\r\n                        Revenue\r\n                    </div>\r\n                </li>\r\n                <li className='nav-item'>\r\n                    <div className={getClassLink('vote_average.desc')}\r\n                         onClick={handelClick('vote_average.desc')}>\r\n                        Vote average\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        )\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default MovieTabs;","import React from 'react'\r\n\r\nclass Pagination extends React.Component {\r\n\r\n    render() {\r\n        const {updatePage, currentPage} = this.props;\r\n        const handelClickPage = (value) => {\r\n            console.log(value)\r\n            return (\r\n                () => {\r\n                    updatePage(value < 1 ? 1 : value)\r\n                })\r\n        }\r\n        return (\r\n            <nav aria-label=\"...\">\r\n                <ul className=\"pagination\">\r\n                    <li className=\"page-item \">\r\n                        <a  className=\"page-link\"\r\n                            onClick={handelClickPage(currentPage - 1)}\r\n                        >Previous\r\n                        </a>\r\n                    </li>\r\n                    <li className=\"page-item \" aria-current=\"page\">\r\n                        <a className=\"page-link\" href=\"#\">{currentPage-1}<span className=\"sr-only\">(current)</span></a>\r\n                    </li>\r\n                    <li className=\"page-item active\" aria-current=\"page\">\r\n                        <a className=\"page-link\" href=\"#\">{currentPage}<span className=\"sr-only\">(current)</span></a>\r\n                    </li>\r\n                    <li className=\"page-item \" aria-current=\"page\">\r\n                        <a className=\"page-link\" href=\"#\">{currentPage+1}</a>\r\n                    </li>\r\n                    <li className=\"page-item\">\r\n                        <a className=\"page-link\"\r\n                           onClick={handelClickPage(currentPage + 1)}>\r\n                            Next\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\nimport {moviesData} from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport {API_URL, API_KEY_3, API_KEY_4} from '../utils/api'\nimport MovieTabs from './MovieTabs'\nimport Pagination from \"./Pagination\";\nimport './index.css'\n// UI = fn(state, props)\n\n// App = new React.Component()\n\nclass App extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            movies: [],\n            moviesWillWatch: [],\n            sort_by: 'popularity.desc',\n            page: 1,\n        };\n    }\n\n    componentDidMount() {\n        this.getMovies()\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.sort_by !== this.state.sort_by) {\n            this.getMovies()\n        }\n        else if (prevState.page !== this.state.page) {\n            this.getMovies()\n        }\n    }\n\n    getMovies = () => {\n        fetch(`${API_URL}/discover/movie?page=${this.state.page}&api_key=${API_KEY_3}&sort_by=${this.state.sort_by}`)\n            .then(value => {\n                return value.json()\n            })\n            .then((value) => {\n                    console.log(value)\n                    this.setState({movies: value.results})\n                }\n            )\n    }\n\n    updatePage = (value) => {\n            this.setState({page: value })\n    }\n\n    updateSortBy = value => {\n            this.setState({sort_by: value})\n    }\n\n    deleteMovie = movie => {\n        console.log(movie.id);\n        const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n        console.log(updateMovies);\n\n        // this.state.movies = updateMovies;\n        this.setState({\n            movies: updateMovies\n        });\n    };\n\n    addMovieToWillWatch = movie => {\n        const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n        updateMoviesWillWatch.push(movie);\n\n        this.setState({\n            moviesWillWatch: updateMoviesWillWatch\n        });\n    };\n\n    deleteMovieFromWillWatch = movie => {\n        const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n            item => item.id !== movie.id\n        );\n\n        this.setState({\n            moviesWillWatch: updateMoviesWillWatch\n        });\n    };\n\n    render() {\n        console.log(\"render\", this);\n        return (\n            <div className=\"container mainBlock\">\n                <div className=\"row mt-4 \">\n                    <div className=\"col-9\">\n                        <div className=\"row mb-4\">\n                            <div className=\"col-12\">\n                                <MovieTabs\n                                    sort_by={this.state.sort_by}\n                                    updateSortBy={this.updateSortBy}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            {this.state.movies.map(movie => {\n                                return (\n                                    <div className=\"col-6 mb-4\" key={movie.id}>\n                                        <MovieItem\n                                            data={movie}\n                                            deleteMovie={this.deleteMovie}\n                                            addMovieToWillWatch={this.addMovieToWillWatch}\n                                            deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\n                                        />\n                                    </div>\n                                );\n                            })}\n                        </div>\n                        <div className=\"row mb-4\">\n                            <div className=\"col-12\">\n                                <Pagination\n                                    updatePage={this.updatePage}\n                                    currentPage={this.state.page}\n                                />\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"col-3\">\n                        <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n                        <ul className=\"list-group\">\n                            {this.state.moviesWillWatch.map(movie => (\n                                <li key={movie.id} className=\"list-group-item\">\n                                    <div className=\"d-flex justify-content-between\">\n                                        <p>{movie.title}</p>\n                                        <p>{movie.vote_average}</p>\n                                    </div>\n                                </li>\n                            ))}\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}